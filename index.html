<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>å…ƒæ°—å‡ºã›ã‚ˆã‚¬ãƒãƒ£</title>

<style>
:root{
  --text:#ffffff;
  --border:rgba(255,255,255,.15);
}

body{
  margin:0;
  background-image:
    linear-gradient(rgba(0,0,0,.55), rgba(0,0,0,.55)),
    url("assets/bg.jpg");
  background-size:contain;
  background-position:center 25%;
  background-repeat:no-repeat;
  color:var(--text);
  font-family:system-ui,-apple-system,"Hiragino Sans","Noto Sans JP",sans-serif;
  text-align:center;
  padding:40px 18px;
  min-height:100vh;
}

h1{
  margin-bottom:30px;
}

/* ã‚¬ãƒãƒ£å…¨ä½“ */
.container{
  max-width:500px;
  margin:0 auto;
  padding:30px;
  background:rgba(0,0,0,.45);
  border-radius:20px;
  backdrop-filter:blur(8px);
  border:1px solid var(--border);
}

/* æ¨ªä¸¦ã³ãƒœã‚¿ãƒ³ */
.main-buttons{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:20px;
  margin-bottom:30px;
}

/* ä¸¸ãƒœã‚¿ãƒ³ */
.main-buttons button{
  width:90px;
  height:90px;
  border-radius:50%;
  border:none;
  background:white;
  color:#222;
  font-size:14px;
  font-weight:bold;
  cursor:pointer;
  transition:.25s;
}

.main-buttons button:hover{
  transform:scale(1.1);
}

/* çµæœè¡¨ç¤º */
.result-box{
  margin-top:20px;
  padding:20px;
  border-radius:15px;
  background:rgba(255,255,255,.05);
  border:1px solid var(--border);
  min-height:80px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  font-weight:bold;
}

/* ãƒ¬ã‚¢ãƒªãƒ†ã‚£æ¼”å‡º */
.normal { color:white; }

.rare {
  color:#66ccff;
  text-shadow:0 0 10px #66ccff;
}

.srare {
  color:#cc66ff;
  text-shadow:0 0 15px #cc66ff;
}

.ssrare {
  color:#ffcc00;
  text-shadow:0 0 20px #ffcc00;
  animation:shine 1.5s infinite alternate;
}

.ultra {
  color:#ff4444;
  text-shadow:0 0 25px #ff4444;
  animation:flash .8s infinite alternate;
}

@keyframes shine{
  from{ filter:brightness(1); }
  to{ filter:brightness(1.5); }
}

@keyframes flash{
  from{ transform:scale(1); }
  to{ transform:scale(1.05); }
}

/* ã‚¹ãƒãƒ›å¾®èª¿æ•´ */
@media (max-width:600px){
  .main-buttons button{
    width:75px;
    height:75px;
    font-size:13px;
  }
}
</style>
</head>

<body>

<h1>å…ƒæ°—å‡ºã›ã‚ˆã‚¬ãƒãƒ£</h1>

<div class="container">

  <div class="main-buttons">
    <button onclick="drawGacha('yasashime')">ğŸŒ¤<br>ã‚„ã•ã—ã‚</button>
    <button onclick="drawGacha('tsuyome')">ğŸ”¥<br>å¼·ã‚</button>
  </div>

  <div id="result" class="result-box">
    æœªæ’å‡º
  </div>

</div>

<script>

/* ===== ã‚¬ãƒãƒ£ãƒ‡ãƒ¼ã‚¿ ===== */

const gachaData = {
  yasashime: [
    { text:"ã ã„ã˜ã‚‡ã†ã¶ã€‚ä»Šæ—¥ã¯ä¼‘ã‚“ã§ã„ã„ã€‚", rarity:"normal", weight:50 },
    { text:"ã¡ã‚ƒã‚“ã¨ã‚„ã‚Œã¦ã‚‹ã‚ˆã€‚", rarity:"rare", weight:25 },
    { text:"ç„¡ç†ã—ãªãã¦ã„ã„ã€‚ã»ã‚“ã¨ã«ã€‚", rarity:"srare", weight:15 },
    { text:"ã‚¢ã‚¿ã‚·ã¯ã¡ã‚ƒã‚“ã¨è¦‹ã¦ã‚‹ã€‚", rarity:"ssrare", weight:7 },
    { text:"ç”Ÿãã¦ã‚‹ã ã‘ã§æº€ç‚¹ã ã€‚", rarity:"ultra", weight:3 }
  ],
  tsuyome: [
    { text:"èµ·ãã‚ï¼ï¼ï¼ï¼", rarity:"normal", weight:50 },
    { text:"ã‚„ã‚Œã‚‹ã£ã¦è¨€ã£ãŸã‚ˆãªï¼Ÿ", rarity:"rare", weight:25 },
    { text:"ç”˜ãˆã‚“ãªã€‚ã§ã‚‚å¥½ãã ã€‚", rarity:"srare", weight:15 },
    { text:"é€ƒã’ã‚“ãªã€‚æ¨ªã«ã„ã‚‹ã‹ã‚‰ã€‚", rarity:"ssrare", weight:7 },
    { text:"ãŠå‰ãªã‚‰ä¸–ç•Œç²ã‚Œã‚‹ã€‚", rarity:"ultra", weight:3 }
  ]
};

/* ===== æŠ½é¸å‡¦ç† ===== */

function drawGacha(type){

  const pool = gachaData[type];

  const totalWeight = pool.reduce((sum,item)=>sum+item.weight,0);
  let random = Math.random() * totalWeight;

  for(let item of pool){
    if(random < item.weight){
      showResult(item);
      return;
    }
    random -= item.weight;
  }
}

function showResult(item){
  const resultBox = document.getElementById("result");
  resultBox.className = "result-box " + item.rarity;
  resultBox.textContent = item.text;
}

</script>

</body>
</html>
